<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>클로저</title>
  <style>
    .box{
      margin-top: 20px;
      width: 200px;
      height: 200px;
      background-color: orange;
    }
  </style>
<body>
  <button>click</button>
  <div class="box" id="box"></div>
<script>
  const btn = document.querySelector(`button`);
  const box = document.querySelector(`#box`);

  const toggle = (function() {
    let state = false; // 내부함수가 이 변수를 사용, 클로저가 사용하는 변수가 됨.

    // 얘가... 클로저임.. 클로저 반환. return 
    return function() { //즉시 실행함수가 반환한 함수는 렉시컬 환경에 속한 변수 state를 기억하는 클로저
      box.style.display = state ? 'block' : 'none' 
      state = !state; // false -> true 대입, true -> false 대입
    }
  })();
  // btn.onclick = toggle;
  // 
  btn.addEventListener(`click`, toggle);
  // console.log(state); 함수 내부의 변수에 접근이 안 됨...
</script>
</body>
</html>