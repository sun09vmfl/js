<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>async 함수, await 키워드</title>
  </head>
  <body>
    <script>
      /*
        프로미스를 좀 더 쉽게 사용할 수 있게 만든 비동기 함수

        -promise 객체를 반환하는 함수를 다시 함수로 리패키징
        -해당 패키징 함수에 async 키워드 작성
        -해당 패키징 함수 안쪽 반환하는 promise 함수 앞에 await 지정
        - await로 지정된 함수가 끝날 때까지 그 다음 함수는 동기화
      */

      function delay(time) {
        return new Promise(res => {
          setTimeout(() => {
            res();
          }, time);
        });
      }
      /*
      delay(3000).then(() => {
        console.log(`test`);
      });
      */

      async function test() {
        await delay(3000);
        console.log(`test`);
      }

      /*
      const test = async () => {
        await delay(3000);
        console.log(`test`);
      };
      */

      test();
    </script>
  </body>
</html>
